<main class="content">
    <aside id="" class="col col-1-5">
      <ul>
          <li>
              <a href="/">Home</a>
          </li>
      </ul>
    </aside>
    <article class="col col-4-5">
        <h2>Create Account</h2>
        <!-- TODO remove no validate -->
        <form novalidate class="pure-form pure-form-aligned" action="/customers" accept-charset="UTF-8" enctype="multipart/form-data" method="post">
            <%= csrf_tag %>
            <fieldset>
                <% @validator.errors.full_messages.each do |message| %>
                    <div class="pure-control-group">
                        <label></label>
                        <span class="errors"><%= message.gsub('_', ' ').capitalize %></span>
                    </div>
                <% end %>
                <div class="pure-control-group">
                    <label for="customer_first_name">first name</label>
                    <input
                        id="customer_first_name"
                        name="customer[first_name]"
                        type="text"
                        value="<%= @form.first_name %>"
                        required
                        placeholder="">
                </div>

                <div class="pure-control-group">
                    <label for="customer_last_name">last name</label>
                    <input
                        id="customer_last_name"
                        name="customer[last_name]"
                        type="text"
                        value="<%= @form.last_name %>"
                        required
                        placeholder="">
                </div>

                <div class="pure-control-group">
                    <label for="customer_email">email</label>
                    <input
                        id="customer_email"
                        name="customer[email]"
                        type="email"
                        value="<%= @form.email %>"
                        required
                        placeholder="">
                </div>

                <div class="pure-control-group">
                    <label for="customer_password">password</label>
                    <input
                        id="customer_password"
                        name="customer[password]"
                        type="password"
                        required
                        placeholder="">
                </div>

                <div class="pure-control-group">
                    <label for="customer_password_confirmation">confirmation</label>
                    <input
                        id="customer_password_confirmation"
                        name="customer[password_confirmation]"
                        type="password"
                        required
                        placeholder="">
                </div>


                <div class="pure-control-group">
                    <label for="customer_country">Country</label>
                    <select
                        id="customer_country"
                        name="customer[country]"
                        required>
                        <option value>-- country --</option>
                        <% Country.all.sort_by!{ |c| c.first.downcase }.each do |name, code| %>
                            <option value="<%= code %>" <%= 'selected' if @form.country && code == @form.country.alpha2 %>><%= name %></option>
                        <% end %>
                    </select>
                </div>


                <div class="pure-controls">
                    <label for="customer_agreement" class="pure-checkbox">
                        <input id="customer_agreement" name="customer[terms_agreement]" type="checkbox" required> I've read the <a href="/about/terms_and_conditions" target="_blank">terms and conditions</a>
                    </label>
                    <button type="submit" class="pure-button pure-button-primary">Submit</button>
                </div>
            </fieldset>
        </form>
    </article>
</main>
